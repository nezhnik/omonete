# Что сделать перед запуском (регистрация и коллекция)

## 1. Один раз в Supabase создать таблицу коллекции

Без этого вход и регистрация будут работать, но «Добавить в коллекцию» и портфолио по своей коллекции — нет.

**Шаги:**
1. Зайти в [Supabase Dashboard](https://supabase.com/dashboard) → ваш проект «O monete».
2. В левом меню: **SQL Editor** → **New query**.
3. Открыть в проекте файл `supabase/schema.sql`, скопировать весь текст и вставить в запрос.
4. Нажать **Run**.

После этого появится таблица `user_collection` и политики RLS (пользователь видит только свои записи).

## 2. Проверить переменные окружения

В корне проекта в `.env.local` должны быть (у вас уже есть):

- `NEXT_PUBLIC_SUPABASE_URL` — URL проекта Supabase
- `NEXT_PUBLIC_SUPABASE_ANON_KEY` — Anon key или Publishable key

Secret key в приложение не подставлять и в git не коммитить.

## 3. Запуск

```bash
npm run dev
```

Дальше:
- **Регистрация:** `/login` → переключить на «Зарегистрироваться», ввести email и пароль (≥6 символов).
- **Вход:** тот же `/login`, войти по email и паролю.
- После входа редирект на `/portfolio`. Коллекция из Supabase подтягивается автоматически.
- В каталоге и на странице монеты у авторизованных пользователей есть «Добавить в коллекцию»; в портфолио отображаются только сохранённые монеты.

Гостям по-прежнему доступен каталог и демо-портфолио (пример набора монет).
